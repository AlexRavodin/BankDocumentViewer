# README для WPF-приложения

## Описание проекта

Данное WPF-приложение было разработано в рамках тестового задания, целью которого является создание функционала для работы с текстовыми файлами и импорта данных в базу данных. Приложение включает в себя две основные части, описанные в заданиях.

---

## Задание 1

### Задачи

1. **Генерация текстовых файлов**:
    - Создание 100 текстовых файлов, каждый из которых содержит 100,000 строк с данными в следующем формате:
      ```
      случайная дата (последние 5 лет) || случайный набор 20 латинских символов || случайный набор 20 русских символов || случайное положительное четное целочисленное число (1 - 100,000,000) || случайное положительное число (с 8 знаками после запятой, 1 - 20)
      ```

2. **Объединение файлов**:
    - Объединение всех сгенерированных файлов и возможность удаления строк с заданным сочетанием символов, с выводом информации о количестве удалённых строк.

3. **Импорт в БД**:
    - Импорт данных из объединённого файла в базу данных с отображением процесса импорта (количество импортированных строк и оставшихся).

4. **Хранимая процедура**:
    - Реализация хранимой процедуры, вычисляющей сумму всех целых чисел и медиану дробных чисел.

### Пример вывода

```
03.03.2015||ZAwRbpGUiK||мДМЮаНкуКД||14152932||7,87742021||
23.01.2015||vgHKThbgrP||ЛДКХысХшЗЦ||35085588||8,49822372||
...
```

---

## Задание 2

### Задачи

1. **Анализ структуры Excel-файла**:
    - Анализ файла «ОСВ для тренинга» и разработка схемы СУБД для удобного хранения данных.

2. **Загрузка данных**:
    - Реализация процесса загрузки данных из Excel-файла в СУБД, поддерживающая различные форматы.

3. **Отображение данных**:
    - Отображение списка загруженных файлов и данных, хранящихся в базе.

---

## Структура проекта

- **Начальное окно**: Пользователь может выбрать, к какому функционалу перейти.
 
 ![image](https://github.com/user-attachments/assets/e9240383-aeee-4eee-81e1-4caa9a6f54e6)

- **Окно генерации**: Пользователь может выбрать временные отрезки для генерации дат, подстроку для удаления строк, место сохранения временных файлов, имя итогового файла. А также наблюдать прогресс сохранения записей в БД. 

![image](https://github.com/user-attachments/assets/4bfbf90b-c339-41ad-bdb3-be6acc8bcbef)

- **Окно статистики**: Пользователь может посмотреть статистику (сумму и медиану) по записям в БД.

![image](https://github.com/user-attachments/assets/a539c615-fb4b-4d8f-ae44-90ece90c831d)

- **Окно файлов**: Пользователь может посмотреть список файлов, их названия, даты создания, а также количество записей. Кроме этого, он перейти к конкретному файлу или импортировать новый. 

![image](https://github.com/user-attachments/assets/165a73cb-bb05-4ff9-9e96-67b0832d3f45)

- **Окно операций**: Пользователь может посмотреть операции из файла, их счета, данные по ним, а также названия классов операций.

![image](https://github.com/user-attachments/assets/aedd70b8-09a8-453f-a3fe-8e6546165761)

## Особенности

- Конфигурация проекта загружается из файла.

  ![image](https://github.com/user-attachments/assets/b0a16dc0-5480-4851-968c-b270eebb6f3e)

- Все асинхронные операции сопровождаются вращающимся элементом, кроме сохранения, где есть прогресс-бар.

---
![image](https://github.com/user-attachments/assets/9781db30-617b-4c2c-9834-59dcc512adfe)

---
![image](https://github.com/user-attachments/assets/cf988b49-bf21-4133-9771-82088f9564a9)

---
![image](https://github.com/user-attachments/assets/e4a884aa-4788-41f2-a534-c426696b17ac)

---
![image](https://github.com/user-attachments/assets/c172ac38-dea6-42a1-b67c-b66e1c8cc34c)

---
![image](https://github.com/user-attachments/assets/0b03175e-6e45-40d9-a1ab-6f701e51a188)

---

- По истечению всех операций пользователь получает окно с исходом операции (к примеру, генерация файлов).

![image](https://github.com/user-attachments/assets/c01d14ed-ff01-44bb-9a2e-0d069174be86)


---

## Что желательно доделать

- [ ] Улучшить архитектору (лучше разделить ответственности и поправить файловую структуру, избавиться от передачи некоторых параметров в методы).
- [ ] Добавить полное конфигурирование параметров генерации (пока что только дата).
- [ ] Улучшить пользовательский иннтерфейс (есть пару мест, где размеры компонентов заданы константами).
- [ ] Более структурированная обработка ошибок(создать кастомные ошибки).
- [ ] Добавить описанине методов (что делают, входные параметры, выходные параметры).
- [ ] Добавить логирование (пока что только запросы к БД).

## Возможные расширения

- Опубликовать на GitHub Actions.
- Объединение файлов с функционалом удаления строк.
